## 4-1 css和js的装载与执行-HTML 页面加载渲染的过程


html是如何绘制的？dom树是怎么生成的？词法分析是什么？

	词法分析，生成token， 生成dom



## 4-2 css和js的装载与执行-HTML 演染过程的一些特点



#### HTML渲染过程的一些特点

1. 顺序执行、并发加载
	
		从上到下分析，html中引入的资源，是并发加载的，受域名限制，单个域名浏览器并发度是有限的，设置3~4个cdn域名，防止达到并发请求的上限
	2. 是否阻塞
	
		css加载是否阻塞页面渲染？
		css加载是否阻塞js的加载和执行？
		
		css不阻塞外部脚本的加载
		css阻塞js的执行，js可能操作dom, 导致样式的修改，必须在css基础上执行
	
	
		js加载是否阻塞
		3. 依赖关系
	
		页面出来了，css样式没出来，闪现过程
		如何避免？
			应该把css样式放在header 中引入，页面渲染等待css加载并生成css树
			最终和生成的dom树整合生成render tree 之后才进行渲染
			这样不会出现闪动问题
			
			
		js依赖程度大的文件放在下面
		4. 引入方式
		
		css: link、import 
		js: 直接引入、defer、async 


## 4-3 css和js的装载与执行-顺序执行、并发加载


词法分析的顺序是从上到下依次解析的，DOM树的生成也是从上到下的
token的获取是从上到下的，html被解析过程是从上到下的
html是顺序执行的


## 4-4 css和js的装载与执行-css 阻塞和 js 阻塞	

1. css head中阻塞页面的渲染

		css 如果通过link方式引入，会阻塞页面的渲染, 需要等 link 资源加载完，才会进行渲染 
		css 加载完 并分析完了，渲染才会带样式

2. css阻塞js的执行
	
		css 加载完之前，后续的js执行时被阻塞的
	3. css不阻塞外部脚本的加载
		
		
		但是会阻塞后续js的执行
		单线程，渲染和js执行是不能同时执行的

js阻塞：

	直接引入的js阻塞页面的渲染，没有使用asyn 和 defer 的js文件，可能通过document.write 修改文档内容
	
	js不阻塞资源的加载
	
	js顺序执行，阻塞后续js逻辑的执行

js引入方式

	直接引入
	defer
	async
	异步动态引入js


加载和执行的一些优化点


	css 样式表置顶
	用 link 代替 import， 页面被加载时，link会同时被加载，而@import引用的css会等到页面被加载完再加载；
	js 脚本置底
	合理使用 js 的异步加载能力， 路由到某个页面时，才加载那个页面的代码


